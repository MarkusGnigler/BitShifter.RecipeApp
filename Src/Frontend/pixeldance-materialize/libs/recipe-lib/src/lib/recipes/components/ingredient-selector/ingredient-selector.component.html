<section class="add-button-container" fxLayout="column" fxLayoutAlign="center">
	<button mat-mini-fab color="primary" type="button" (click)="addIngredient()">
		<mat-icon>add</mat-icon>
	</button>
</section>

<!-- GRID SYSTEM -->
<!-- <section
	*ngIf="group"
	[formGroup]="group"
	gdAreas="fields"
	gdAreas.lt-md="title | quantity | unit | button"
	gdGap="16px"
>
	<ng-container formArrayName="ingredients">
		<ng-container *ngFor="let ingredient of ingredients.controls; let i = index">
			<ng-container [formGroupName]="i">
				<mat-form-field appearance="fill" gdArea="title">
					<mat-label>Titel:</mat-label>
					<input matInput required formControlName="title" />
				</mat-form-field>

				<mat-form-field appearance="fill" gdArea="quantity">
					<mat-label>Menge:</mat-label>
					<input matInput type="number" required formControlName="quantity" />
				</mat-form-field>

				<mat-form-field appearance="fill" gdArea="unit">
					<mat-label>Einheit:</mat-label>
					<input matInput required formControlName="unit" />
				</mat-form-field>

				<div class="fx full-width" gdArea="button">
					<button
						mat-mini-fab
						color="warn"
						type="button"
						style="margin-bottom: 1.34375em"
						(click)="removeIngredient(i)"
					>
						<mat-icon>remove</mat-icon>
					</button>
				</div>
			</ng-container>
		</ng-container>
	</ng-container>
</section> -->

<!-- FLEX SYSTEM -->
<section
	*ngIf="group"
	[formGroup]="group"
	fxLayout="row wrap"
	fxLayout.lt-sm="column"
	fxLayoutGap.lt-sm="0"
	[fxLayoutGap]="flexGap"
	fxLayoutAlign="flex-start"
>
	<ng-container formArrayName="ingredients">
		<ng-container *ngFor="let ingredient of ingredients.controls; let i = index">
			<ng-container [formGroupName]="i">
				<mat-form-field appearance="fill" fxFlex-lt-sm="100%" fxFlex="0 1 calc(31% - {{ flexGap }})">
					<mat-label>Titel:</mat-label>
					<input matInput required [formControlName]="FORMGROUP_NAMES.title" />

					<mat-error *ngIf="getControlByName(FORMGROUP_NAMES.title)?.invalid">
						{{ getErrorMessage(getControlByName(FORMGROUP_NAMES.title)) }}
					</mat-error>
				</mat-form-field>

				<mat-form-field appearance="fill" fxFlex-lt-sm="100%" fxFlex="0 1 calc(31% - {{ flexGap }})">
					<mat-label>Menge:</mat-label>
					<input matInput required type="number" [formControlName]="FORMGROUP_NAMES.quantity" />

					<mat-error *ngIf="getControlByName(FORMGROUP_NAMES.quantity)?.invalid">
						{{ getErrorMessage(getControlByName(FORMGROUP_NAMES.quantity)) }}
					</mat-error>
				</mat-form-field>

				<mat-form-field appearance="fill" fxFlex-lt-sm="100%" fxFlex="0 1 calc(31% - {{ flexGap }})">
					<mat-label>Einheit:</mat-label>
					<input matInput required [formControlName]="FORMGROUP_NAMES.unit" />

					<mat-error *ngIf="getControlByName(FORMGROUP_NAMES.unit)?.invalid">
						{{ getErrorMessage(getControlByName(FORMGROUP_NAMES.unit)) }}
					</mat-error>
				</mat-form-field>

				<div
					class="fx"
					fxLayout
					fxLayoutAlign="center center"
					fxFlex-lt-sm="100%"
					fxFlex="0 1 calc(5% - {{ flexGap }})"
					style="padding-bottom: 1.34375em"
				>
					<button mat-mini-fab color="warn" type="button" (click)="removeIngredient(i)">
						<mat-icon>remove</mat-icon>
					</button>
				</div>
			</ng-container>
		</ng-container>
	</ng-container>
</section>
